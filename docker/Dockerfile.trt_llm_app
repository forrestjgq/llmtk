ARG BASE_IMAGE=""
ARG BASE_TAG=""

FROM ${BASE_IMAGE}:${BASE_TAG} as base

ARG LLMTK_COMMITID=""
ARG TRTLLM_COMMITID=""
ARG BACKEND_COMMITID=""
ARG OAIP_COMMITID=""
ENV APP_BASE_IMAGE=${BASE_IMAGE}:${BASE_TAG}
ENV APP_IMAGE=${IMAGE}
ENV APP_LLMTK_COMMITID=$LLMTK_COMMITID
ENV APP_TRTLLM_COMMITID=$TRTLLM_COMMITID
ENV APP_BACKEND_COMMITID=$BACKEND_COMMITID
ENV APP_OAIP_COMMITID=$OAIP_COMMITID

WORKDIR /app
COPY script llmtk_script
COPY src llmtk_src
COPY all_models all_models
COPY oaip oaip
